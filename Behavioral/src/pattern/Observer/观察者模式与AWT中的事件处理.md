## 观察者模式与 AWT 中的事件处理 ##

软件系统中的事件处理允许两个或者多个对象根据它们状态的变化进行通信和协调。在常见的事件处理模型中，对象通常划分为三种：事件对象、事件制造者对象和事件接收者对象。

一般而言，某一个对象是事件的制造者，其余对象是事件的接收者；而事件对象本身则封装了有关事件的信息。当事件制造者的内部状态发生变化时，会根据需要创建一个代表其状态变化的事件对象，并将它传给所有登记过的事件接收者对象。

Java 的事件处理机制是建立在观察者模式基础之上的，以事件的委派为特征的委派事件模型
(Delegation Event Mode,DEM)，这种机制被应用到了 AWT 库中和 Swing 库中。


### 事件源对象

一个类要成为事件源并不需要实现任何接口或者继承任何类，但它需要保持一个事件监听器的列表，并且可以通过 `addXXXListener()` 方法增加一个监听器，通过 `removeXXXListener()` 方法删除一个监听器。


### 事件对象

事件对象封装了事件的源对象与事件监听器对象所需要的事件信息。在 DEM 中，每一种事件都有一个事件对象与之对应，而所有的 AWT 中的事件对象都是从 EventObject 类继承而来的，每一种具体的事件对象都有一些额外的信息。在 AWT 库中，事件类 EventObject 只有一个直接子类 AWTEvent，而后者是所有的 AWT 事件类的起源。

Swing 构件引进的更多的事件类，这些事件类不是从 AWTEvent 衍生来的，而是直接继承自 EventObject。同样，客户端可以设计自己的事件对象，直接继承自 EventObject。


### 事件监听器对象

事件监听器对象是当事件发生时被调用的对象。一个对象要想成为事件监听器对象，必须实现事件监听器接口。AWT 库中所有的事件监听器接口都是 EventListener 接口的子接口。尽管Swing构件引入了很多的事件监听接口，但是 Swing 仍然广泛使用 AWT 所提供的各种事件接口进行事件处理。AWT 为那些多于一个方法的接口提供了缺省适配器类，供客户端使用起来更方便。


AWT 区分了底层事件和语义事件：

* 一个语义事件表达了用户所做的事情，比如使用鼠标单击一下按键就是一个语义事件。
* 一个底层事件则是组成各种语义事件的单纯事件。比如一个鼠标单击事件由一个鼠标键按下事件和一个鼠标键释放事件组成。


下面是AWT中最重要的四个语义事件类：

* ActionEvent 单击按键、选择菜单项、选择列表项、在文本框输入文字等。
* AdjustmentEvent 调整滚动条。
* ItemEvent 用户在选择框(ComboBox)中选择一个，或者在列表(JList)中选择一项。
* TextEvent 文本框的内容有变化。

下面是六个底层事件类：

* ComponentEvent
构建大小改变、位置变化、被隐藏、被显现。
* KeyEvent
一个键被按下或者被释放。
* MouseEvent
鼠标被按下、释放、移动或者拖拽。
* FocusEvent
一个构件得到或失去焦点。
* WindowEvent
视窗被激活、释放、最小化、关闭等。
* ContainerEvent
一个构件被增加到容器中或者从容器中删除。

AWT 的事件处理机制是建立在观察者模式的基础之上的，它为事件源和事件监听器解脱了耦合，并且使二者通过传递事件对象相互协调。
